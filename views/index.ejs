<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/stylesheets/style.css"> <!-- here we have not included public as we have already given public for setting up express.static, only for ejs file-->
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>

   <div class="main w-full min-h-screen bg-zinc-900 text-white">
    <div class="form p-10 d-flex gap-3">
        <form action="/create" method="post">
        <input class="block p-3 w-full rounded-md mt-3 bg-zinc-800"  type="text" placeholder="Title" name="title" />
        <textarea class="block p-3 w-full mt-3 rounded-md  bg-zinc-800 resize-none" placeholder="Write your task here..." name="content"></textarea>
        <input class="hover:bg-green-500 mt-3 cursor-pointer p-3 bg-gray-700 rounded-sm" type="submit" value="Create Task"/>
        </form>
    </div>

    <div class="tasks p-10 flex flex-wrap gap-4">
      <% if(files.length > 0) { %>  
      <% files.forEach( (val)=>{ %>
          
        <div class="task p-3 rounded-md w-72 bg-zinc-800">
            <div class="flex justify-between">
            <h1 class="text-white text-3xl tracking-tighter"><%= val.replace(".txt","") %></h1>
            <a class="text-yellow-300 hover:text-yellow-400" href="/delete/<%=val%>">done</a>
          </div>
            <div class="flex justify-between">
            <a class="text-green-300 hover:text-green-500 " href="/file/<%= val %>">go to task</a>
            <a class="text-zinc-600 hover:text-zinc-700" href="/edit/<%=val %>">edit </a>
          </div>
            </div>
    
      <% }) %>
      <% } else { %>  
        <h3 class="text-zinc-600 ">create your first task.</h3>
    <% } %>
       
    </div>

   </div>
</body>
</html>